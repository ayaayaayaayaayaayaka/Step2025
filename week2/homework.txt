week2ã€€

åŸæ–‡ho
https://docs.google.com/document/d/1P7-DWh6rtjNNPg_6HIfQetfBWhH9qT2tIcPyhzhaqPc/edit?tab=t.0

ã€homework1ã€‘
design document of hash_table.py
ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®èª¬æ˜ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œæ–¹æ³•ã€å·¥å¤«ã—ãŸç‚¹ãªã©ã‚’ç¬¬ä¸‰è€…ã«ã‚‚ä¼ã‚ã‚‹ã‚ˆã†ã«ã€Œã‚ã‹ã‚Šã‚„ã™ãã€æ›¸ã


æ¦‚è¦
key(string)ã¨value(ä½•ã®å‹ã§ã‚‚OK)ã‚’ãƒšã‚¢ã§æŒã¤ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®hash tableã‚’ä½œã£ãŸ
putã€getã€deleteæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãŸã€‚
ãƒãƒƒã‚·ãƒ¥å€¤ã®å‰²ã‚ŠæŒ¯ã‚Š
keyã®hashå€¤ã‚’calculate_hashã§è¨ˆç®—ã™ã‚‹ã€‚ãã‚Œãã‚Œã®keyã«ä½•ã‚‰ã‹ã®å€¤ã‚’ä¸ãˆãŸã€‚    
æ ¼ç´
hashå€¤ã‚’bucket_sizeã§å‰²ã‚Šç®—ã—ã¦hash tableã«æ ¼ç´ã—ãŸã€‚ãƒãƒƒã‚·ãƒ¥å€¤ãŒè¡çªã—ãŸéš›ã«ã¯ã€é€£çµãƒªã‚¹ãƒˆã§ç¹‹ã„ã ã€‚
å†ãƒãƒƒã‚·ãƒ¥
è¦ç´ æ•°ãŒbucket sizeã®70%ä»¥ä¸Šï¼ˆã¤ã¾ã‚Šã‚­ãƒ£ãƒ‘ãŒåŸ‹ã¾ã£ã¦ããŸæ™‚ï¼‰ã¯ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã®é•·ã•ã‚’äºŒå€ã«ã—ãŸã€‚é€†ã«ã€è¦ç´ æ•°ãŒbucket sizeã®30%ä»¥ä¸‹ï¼ˆã¤ã¾ã‚Šã™ã‹ã™ã‹ãªæ™‚ï¼‰ã¯ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã®é•·ã•ã‚’åŠåˆ†ã«ã—ãŸã€‚ã“ã®æ™‚ã€bucket sizeã¯å¿…ãšå¥‡æ•°ã«ãªã‚‹ã‚ˆã†ã«ã—ãŸã€‚

å®Ÿè¡Œæ–¹æ³•
functional_test
ã„ãã¤ã‹ã®å…·ä½“çš„ãªkeyã¨valueã‚’å…¥åŠ›ã—ã€putã€getã€deleteã‚’è©¦ã—ãŸ

performance_test
0~1å„„ã®ã†ã¡ã‹ã‚‰ä¹±æ•°ã‚’ç”Ÿæˆã—ã€ãã‚Œã‚‰ã‚’keyã¨valueã«ã—ã¦100å›ãšã¤putã€getã€deleteã—ãŸã€‚







å·¥å¤«ã—ãŸç‚¹
ãƒãƒƒã‚·ãƒ¥é–¢æ•°ã‚’å·¥å¤«ã—ãŸã€‚å…ƒã€… Î£ord(char) ã ã£ãŸãŒã€Î ord(char)ã«ã—ãŸ

èª²é¡Œã€ä¸æ˜ç‚¹
ãƒãƒƒã‚·ãƒ¥é–¢æ•°ãŒã¾ã æ”¹å–„ã§ããã†
ãã‚‚ãã‚‚ç©ã«ã—ãŸæ–¹ãŒè‰¯ã„ã®ã‹ï¼Ÿï¼Ÿã©ã†ã›bucket_sizeã§å‰²ã£ã¦ã—ã¾ã†ã‹ã‚‰è¡çªã™ã‚‹ã‹ã©ã†ã‹ã¯å’Œã§ã‚‚ç©ã§ã‚‚å¤‰ã‚ã‚‰ãªã„ã®ã§ã¯ï¼Ÿ
ãƒãƒƒã‚·ãƒ¥å€¤ã‚’ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªã‚‚ã®ã«ã™ã‚‹ã¨ã„ã†è¦–ç‚¹ã ã‘ã§è€ƒãˆã‚‹ã¨ã€ä¾‹ãˆã°ã€ord(char)ã§ã¯ãªãã€charä¸€ã¤ä¸€ã¤ã«æ–°ãŸã«ç´ æ•°ã‚’å‰²ã‚Šå½“ã¦ã¦ã€ãã‚Œã‚‰ã®ç©ã‚’å–ã£ãŸæ–¹ãŒè‰¯ã„ï¼Ÿ
ãã†ãªã‚‹ã¨ã€a~zã€A~Zã€0~9ã€ãã®ä»–è¨˜å·ã«ã‚‚å‰²ã‚Šå½“ã¦ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼Ÿï¼Ÿ
bucket sizeã‚’å¥‡æ•°ã«ã—ãŸãŒã€è¿‘ãã®prime numberã‚’æ¢ã—ã¦è¨­å®šã—ã¦ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œãªã„ï¼ˆfind_prime_number()ã¿ãŸã„ãªé–¢æ•°ã‚’ä½œã‚‹ï¼Ÿã§ã‚‚ç´ æ•°ã®æ¢ç´¢ã£ã¦æ„å¤–ã¨å¤§å¤‰ã‹ã‚‚ã—ã‚Œãªã„ï¼‰

ã€homework2ã€‘
æœ¨æ§‹é€ ã‚’ä½¿ãˆã° O(log N)ã€ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ãˆã°ã»ã¼ O(1) ã§æ¤œç´¢ãƒ»è¿½åŠ ãƒ»å‰Šé™¤ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¦ã€ã“ã‚Œã ã‘è¦‹ã‚Œã°ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã»ã†ãŒå„ªã‚Œã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã€‚ã¨ã“ã‚ãŒç¾å®Ÿã®å¤§è¦æ¨¡ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯ã€ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã¯ãªãæœ¨æ§‹é€ ãŒä½¿ã‚ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã€‚ãã®ç†ç”±ã‚’è€ƒãˆã‚ˆã€‚
ã„ãã¤ã‹é‡è¦ãªç†ç”±ãŒã‚ã‚‹ã®ã§æ€ã„ã¤ãã ã‘æ›¸ã„ã¦ãã ã•ã„ï¼

æœ¨æ§‹é€ ã®å ´åˆã€å¤§ãã•ã‚’æŒ‡å®šã—ãªãã¦è‰¯ã„ã‹ã‚‰ã€‚ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã¯å¤§ãã•ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ä¾‹ãˆã°ã€googleã®ãƒ¦ãƒ¼ã‚¶ã®DBã‚’ä½œã‚ã†ã¨ã—ãŸã‚‰ã€ç·ãƒ¦ãƒ¼ã‚¶æ•°ã‚’äºˆæƒ³ã™ã‚‹ã®ã¯é›£ã—ã„ã—ã€ãƒ¦ãƒ¼ã‚¶ã®å¢—åŠ ã«ã‚ˆã£ã¦å†ãƒãƒƒã‚·ãƒ¥ã™ã‚‹ã®ã¯ã€NãŒå¤§ãããªã‚Œã°ãªã‚‹ã»ã©å¤§å¤‰ã ã‹ã‚‰ã€‚
æ§‹é€ ã‚’å¤‰ãˆã‚‹ã®ãŒç°¡å˜ï¼ˆä¾‹ãˆã°ã€æˆæ¥­ã§æ‰±ã£ãŸbalanceæœ¨ã‚‚æ•°ç®‡æ‰€ã„ã˜ã‚‹ã ã‘ã§å…¨ä½“ã®æ§‹é€ ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ãŒã§ããŸï¼‰ã§ã€æ‰±ã„ã‚„ã™ã„ã‹ã‚‰ã€‚

ã€homework3ã€‘
ã‚‚ã£ã¨ã‚‚å˜ç´”ã«ã¯ã€ã€ŒURLã€ã‚’ã‚­ãƒ¼ã€ã€ŒWebãƒšãƒ¼ã‚¸ã€ã‚’å€¤ã¨ã™ã‚‹ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç”¨æ„ã™ã‚Œã°ã‚ˆã„
ã‚‚ã£ã¨ã‚‚ç›´è¿‘ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸãƒšãƒ¼ã‚¸ä¸Šä½ X å€‹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ãŠãğŸ˜Š
ã‚¢ã‚¯ã‚»ã‚¹ç³»åˆ—ãŒã€ŒA, A, A, A, B, A, C, D, D, B, B, D, B, Eã€ãªã‚‰ã°ã€ã€ŒB, D, Eã€ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
ã“ã®ã‚ˆã†ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç®¡ç†ã‚’ã»ã¼ O(1) ã§å®Ÿç¾ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è€ƒãˆã¦ãã ã•ã„ï¼(ÏƒâËƒá´—Ë‚â)Ïƒ

hashtableã¨linked nodeã‚’çµ„ã¿åˆã‚ã›ã‚‹
hashtableã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒªã‚¹ãƒˆã«å­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèª
linked listã§é †ç•ªã‚’ä½œã‚‹ -> deleteã—ã‚„ã™ã„ã€é †ç•ªå¤‰ãˆã‚„ã™ã„

ã€homework4ã€‘
design document of cache.py
ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®èª¬æ˜ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œæ–¹æ³•ã€å·¥å¤«ã—ãŸç‚¹ãªã©ã‚’ç¬¬ä¸‰è€…ã«ã‚‚ä¼ã‚ã‚‹ã‚ˆã†ã«ã€Œã‚ã‹ã‚Šã‚„ã™ãã€æ›¸ã

ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®èª¬æ˜
ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ï¼ˆæœ€è¿‘ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸNå€‹ã®websiteã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰ã®å®Ÿè£…
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸé †ã«ä¸¦ã¹ã¦ãŠãã€ãŸã ã—è¨ˆç®—é‡ã¯O(1)
ä½•ã‚‰ã‹ã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç¢ºèªã™ã‚‹ã€‚
ã‚‚ã—ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ãã®ãƒšãƒ¼ã‚¸ãŒãªã‘ã‚Œã°ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«è¿½åŠ ã™ã‚‹ã€‚Nå€‹ã—ã‹ä¿å­˜ã§ããªã„ãŸã‚ã€ä¸€ç•ªå¤ã„ãƒšãƒ¼ã‚¸ã¯æ¨ã¦ã‚‹ã€‚
ã‚‚ã—ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ã‚Œã°ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ¡ãƒ³ãƒ„è‡ªä½“ã¯å¤‰ãˆãªã„ã€‚ä¸€æ–¹ã§ã€æ–°ã—ã„é †ã«ç®¡ç†ã—ãŸã„ã®ã§ã€æœ€æ–°ã‚¢ã‚¯ã‚»ã‚¹ã¨ã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ã™ã‚‹ã€‚
ã“ã®ã€Œæ–°ã—ã„é †ã€ã¨ã„ã†ã®ã¯é€£çµãƒªã‚¹ãƒˆã§ç®¡ç†ã—ã¦ã„ã‚‹ã€‚
ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œæ–¹æ³•
tests caseã§ç¢ºèª
æœ€åˆã®1~Nå€‹ç›®
Nå€‹cacheã«ä¿å­˜ã•ã‚ŒãŸå¾Œã«
cacheã«å­˜åœ¨ã—ãªã„ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
å­˜åœ¨ã™ã‚‹ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
latestãƒšãƒ¼ã‚¸ã«ã•ã‚‰ã«ã‚¢ã‚¯ã‚»ã‚¹
latestã§ã¯ãªã„ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
oldestãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

å·¥å¤«ã—ãŸç‚¹
hashtableã¨linked listã®ä½µç”¨ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªcache
é€£çµãƒªã‚¹ãƒˆã®ä¸€ã¤å‰ã®è¦ç´ ã‚’å‚ç…§ã™ã‚‹ã¨ãã€é€£çµãƒªã‚¹ãƒˆã‚’ã²ã¨ã¤ã²ã¨ã¤è¿½ã†ã¨ã€ãŸã¨ãˆã°ä¸€ç•ªå¤ã„è¦ç´ ã‚’æ¶ˆã—ãŸã„æ™‚ã«ã€ä¸€ç•ªå¤ã„è¦ç´ ã®ä¸€å€‹å‰ã¾ã§è¿½ã†å¿…è¦ãŒã‚ã‚‹
-> ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚­ãƒ£ãƒ‘ã‚’Nã¨ã™ã‚‹ã¨è¨ˆç®—é‡O(N)ã‹ã‹ã‚‹
->ã“ã‚Œã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã«.prevã‚’å°å…¥ã—ã€è¨ˆç®—é‡ã‚’æ¸›ã‚‰ã—ãŸ
prevã‚’ã„ã¡ã„ã¡è¨­å®šã™ã‚‹æ‰‹é–“ãŒå¢—ãˆã‚‹ã®ã§ã€NãŒå°ã•ã„æ™‚ã¯nextã ã‘ã®å°å…¥ã®æ–¹ãŒæ—©ã„ï¼Ÿ
ã»ã¼åŒã˜ãã‚‰ã„ã ã£ãŸ
NãŒå¤§ãã„æ™‚ã¯prevå°å…¥å¾Œã®æ–¹ãŒæ—©ã„
å®Ÿéš›ãã†ã ã£ãŸ

cache size = 4(é ‚ã„ãŸãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹)ã®æ™‚
.nextã®ã¿
Execution time : 0.0002941250022558961
.nextã¨.prev
Execution time : 0.00016120799773489125



cache size = 10000, Number of accesses: 100000ã®æ™‚
.nextã®ã¿
Accessed 0 pages
Executed time : 0.00019545800023479387
Accessed 20000 pages
Executed time : 2.017112375000579
Accessed 40000 pages
Executed time : 4.435939125000004
Accessed 60000 pages
Executed time : 4.538836667001306
Accessed 80000 pages
Executed time : 4.541467457998806
Large cache test completed!
Cache size: 10000
Number of accesses: 100000
ExecuTion time: 20.1014 seconds
Number of pages stored in cache: 10000
Most recent pages (top 10): ['page12282.com', 'page06835.com', 'page09564.com', 'page08255.com', 'page10761.com', 'page14284.com', 'page16413.com', 'page00554.com', 'page02852.com', 'page00808.com']	

.nextã¨.prev
Accessed 0 pages
Executed time : 0.0002280000007885974
Accessed 20000 pages
Executed time : 0.8621454999993148
Accessed 40000 pages
Executed time : 1.3470417919998
Accessed 60000 pages
Executed time : 1.393967750002048
Accessed 80000 pages
Executed time : 1.422113332999288
Large cache test completed!
Cache size: 10000
Number of accesses: 100000
Execution time: 6.4658 seconds
Number of pages stored in cache: 10000
Most recent pages (top 10): ['page00182.com', 'page18616.com', 'page12342.com', 'page15184.com', 'page11535.com', 'page04046.com', 'page00581.com', 'page04906.com', 'page09249.com', 'page09152.com']

